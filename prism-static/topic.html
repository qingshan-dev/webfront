<html lang="zh-CN">

<head>
<title>Prism</title>
<meta charset="UTF-8" />
<link rel="stylesheet" type="text/css" href="css/topic.css">
<link rel="stylesheet" type="text/css" href="css/rp.css">
<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
<script src="js/lib/sylvester.js"></script>
<script src="js/lib/jquery-1.8.2.min.js"></script>
<script src="js/lib/mustache.js"></script>
<script src="js/lib/hammer.js"></script>
<script src="js/lib/quo.js"></script>
<script src="js/topic/data.js"></script>
<script src="js/topic/objects.js"></script>
<script src="js/topic/helper.js"></script>
<script src="js/topic/draw.js"></script>
<script src="js/realtime/pop.js"></script>

<script id="click-vs" type="x-shader/x-vertex">
    attribute vec3 position;
    attribute vec4 color;
    uniform mat4 pMatrix;
    uniform mat4 mvMatrix;
    varying vec4 vColor;

    void main(void) {
        vec4 cameraPos = mvMatrix * vec4(position, 1.0);
        gl_Position = pMatrix * cameraPos;
        vColor = color;
    }
</script>
<script id="click-fs" type="x-shader/x-fragment">
    precision mediump float;

    varying vec4 vColor;

    void main(void) {
        gl_FragColor.r = 0.1;
        gl_FragColor.g = vColor.g * 0.00390625;
        gl_FragColor.b = vColor.b * 0.00390625;
        gl_FragColor.a = 0.1;
    }
</script>

<script id="shader-vs" type="x-shader/x-vertex">
    attribute vec3 position;
    attribute vec4 color;
    uniform mat4 pMatrix;
    uniform mat4 mvMatrix;
    varying vec4 vColor;

    void main(void) {
        vec4 cameraPos = mvMatrix * vec4(position, 1.0);
        gl_Position = pMatrix * cameraPos;
        vColor = color;
        //vColor = vec4(position, position.x);
        gl_PointSize = 1.0;
    }
</script>

<script id="shader-fs-ball" type="x-shader/x-fragment">
    precision mediump float;

    varying vec4 vColor;

    void main(void) {
        gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
    }
</script>

<script id="shader-fs-point" type="x-shader/x-fragment">
    precision mediump float;

    varying vec4 vColor;

    void main(void) {
        gl_FragColor = vColor;
        gl_FragColor.b = 1.0;
        gl_FragColor.r = 0.7;
        gl_FragColor.g = 0.7;
    }
</script>


<script id="ring-vs" type="x-shader/x-vertex">
    attribute vec3 position;
    attribute vec2 texCoord;
    uniform mat4 pMatrix;
    uniform mat4 mvMatrix;
    varying vec2 vTexCoord;

    void main(void) {
        vec4 cameraPos = mvMatrix * vec4(position, 1.0);
        gl_Position = pMatrix * cameraPos;
        vTexCoord = texCoord;
    }
</script>
<script id="ring-fs" type="x-shader/x-fragment">
    precision mediump float;

    varying vec2 vTexCoord;
    uniform sampler2D uSampler;

    void main(void) {
         gl_FragColor = texture2D(uSampler, vec2(vTexCoord.s, vTexCoord.t)) * 0.5;
        //gl_FragColor = vec4(0.2, 0.2, 1.0, 1.0) * abs(vTexCoord.s);
    }
</script>

<script id="lines-vs" type="x-shader/x-vertex">
    attribute vec3 position;
    uniform mat4 mvMatrix;
    uniform mat4 pMatrix;

    void main(void) {
        vec4 cameraPos = mvMatrix * vec4(position, 1.0);
        gl_Position = pMatrix * cameraPos;
    }
</script>
<script id="lines-fs" type="x-shader/x-fragment">
    precision mediump float;

    void main(void) {
         gl_FragColor = vec4(0.0, 0.3, 0.6, 0.45);
    }
</script>
<script id="leaf-vs" type="x-shader/x-vertex">
    attribute vec3 position;
    uniform mat4 mvMatrix;
    uniform mat4 pMatrix;
    varying vec4 vColor;

    void main(void) {
        vec4 cameraPos = mvMatrix * vec4(position, 1.0);
        gl_Position = pMatrix * cameraPos;
        // gl_PointSize = 1.5;
        vColor = vec4(position, position.x);
        gl_PointSize = 1.0;
    }
</script>
<script id="leaf-fs" type="x-shader/x-fragment">
    precision mediump float;
    varying vec4 vColor;
    void main(void) {
         //gl_FragColor = vec4(0.8, 0.8, 0.8, 1.0);
         vec4 c = vec4((vColor.r+10.0) * 0.03,(vColor.g+10.0) * 0.05,(vColor.b+10.0) * 0.05,(vColor.a+10.0) * 0.05);
         gl_FragColor = c;
         gl_FragColor.r = c.a;
         gl_FragColor.a = 1.0;
    }
</script>

<script id = "blur-vs"  type="x-shader/x-vertex">
    attribute vec2 position;
    varying vec2 fCoord;

    void main()
    {
        gl_Position = vec4(2.0*position.x-1.0, 2.0*position.y-1.0, 0, 1);
        fCoord = position;
    }
</script>
<script id = "xblur-fs"  type="x-shader/x-fragment">
    precision mediump float;
    varying vec2 fCoord;

    uniform sampler2D texture;
    uniform float uDelta;

    void main()
    {
        float t = 0.1;
        gl_FragColor =
            t * texture2D(texture, vec2(fCoord.x, fCoord.y-3.0000*uDelta)) +
            t * texture2D(texture, vec2(fCoord.x, fCoord.y-2.0000*uDelta)) +
            0.5 * texture2D(texture, vec2(fCoord.x, fCoord.y-1.0000*uDelta)) +
            t * texture2D(texture, vec2(fCoord.x-3.0000*uDelta, fCoord.y)) +
            t * texture2D(texture, vec2(fCoord.x-2.0000*uDelta, fCoord.y)) +
            0.5 * texture2D(texture, vec2(fCoord.x-1.0000*uDelta, fCoord.y)) +
            1.0 * texture2D(texture, vec2(fCoord.x, fCoord.y)) +
            0.5 * texture2D(texture, vec2(fCoord.x, fCoord.y+1.0000*uDelta)) +
            t * texture2D(texture, vec2(fCoord.x, fCoord.y+2.0000*uDelta)) +
            t * texture2D(texture, vec2(fCoord.x, fCoord.y+3.0000*uDelta)) +
            0.5 * texture2D(texture, vec2(fCoord.x+1.0000*uDelta, fCoord.y)) +
            t * texture2D(texture, vec2(fCoord.x+2.0000*uDelta, fCoord.y)) +
            t * texture2D(texture, vec2(fCoord.x+3.0000*uDelta, fCoord.y));
        }

</script>
</head>


<body onload="webGLStart();" style="overflow:hidden;margin: 0; background-color:black">

    <canvas id="canvas" style="border: none;position:absolute;z-index:0;" width="1360" height="600"></canvas>
    <div id="to-real-time"></div>
    <div id="time-box">
        <div class="time-line" id="green"></div>
        <div class="time-line" id="red"></div>
        <div id="tag">
            <div class="time-text" id="state-1" >-   start</div>
            <div class="time-text" id="state0">- 0.5 day </div>
            <div class="time-text" id="state1">- 1 day  </div>
            <div class="time-text" id="state2">- 1 week </div>
            <div class="time-text" id="state3">- 2 week </div>
            <div class="time-text" id="state4">- 2 week+</div>
        </div>
        <div class="button-out"><div class="button-in"></div></div>
        <div class="button-out" id="btn"><div class="button-in"></div></div>
    </div>
    <div id="layer_pop" style="position:absolute; z-index:99;"></div>

</body>

</html>
